template(name='rental_edit_layout')
    +nav
    with current_doc
        .ui.stackable.padded.grid
            .row
                .four.wide.column 
                    .ui.header 
                        i.pencil.icon
                        |rental edit
                    a.ui.big.fluid.button(href="/rental/#{_id}/view" title='save')
                        i.checkmark.large.green.icon
                        |save
                    +remove_button
                    div
                    a.ui.compact.button(href="/rental/#{_id}/edit/info" class="{{isActiveRoute 'rental_edit_info'}}")
                        +ismall name='info'
                        |info
                        //- i.info.grey.icon
                    a.ui.compact.button(href="/rental/#{_id}/edit/finance" class="{{isActiveRoute 'rental_edit_finance'}}")
                        +ismall name='money'
                        |finance
                        //- i.money.grey.icon
                    a.ui.compact.button(href="/rental/#{_id}/edit/availability" class="{{isActiveRoute 'rental_edit_availability'}}")
                        +ismall name='clock'
                        |availability
                        //- i.clock.grey.icon
                    a.ui.compact.button(href="/rental/#{_id}/edit/audience" class="{{isActiveRoute 'rental_edit_audience'}}") 
                        +ismall name='groups'
                        |audience
                        //- i.users.grey.icon
                    a.ui.compact.button(href="/rental/#{_id}/edit/chat" class="{{isActiveRoute 'rental_edit_chat'}}")
                        +ismall name='chat'
                        |chat
                        //- i.chat.outline.grey.icon
                    a.ui.compact.button(href="/rental/#{_id}/edit/tasks" class="{{isActiveRoute 'rental_edit_tasks'}}")
                        +ismall name='tasks'           
                        |tasks         
                        //- i.tasks.grey.icon
                    a.ui.compact.button(href="/rental/#{_id}/edit/ownership" class="{{isActiveRoute 'rental_edit_ownership'}}")
                        +ismall name='pie-chart'           
                        |ownership
                        //- i.pie.chart.grey.icon
                    a.ui.compact.button(href="/rental/#{_id}/edit/stats" class="{{isActiveRoute 'rental_edit_stats'}}")
                        +ismall name='line-chart'
                        |stats
                        //- i.line.chart.grey.icon
                    a.ui.compact.button(href="/rental/#{_id}/edit/ads" class="{{isActiveRoute 'rental_edit_ads'}}")
                        +ismall name='open-in-window'
                        |ads
                        //- i.bullhorn.grey.icon
                .twelve.wide.column 
                    +yield
                    
                    
                    
template(name='rental_edit_info')      
    h1.ui.header 
        i.info.grey.icon
        |info
    +text_edit key='title' direct=true
    .ui.two.column.grid
        .column
            +image_edit key='image' label='image' direct=true
        .column
            +html_edit key='description' label='content' icon='content' direct=true
    +array_edit key='tags' label='tags' icon='tags' direct=true
    +array_edit key='location_tags' label='location tags' icon='marker' direct=true
    +single_user_edit key='resident' label='resident' direct=true
    +text_edit key='contact_info' label='contact info' icon='info' direct=true
    +link_edit key='amazon_referral_link' label='amazon referral link' icon='amazon' direct=true


template(name='rental_edit_finance')  
    .ui.large.header 
        +i name='money'
        //- i.money.grey.icon
        |finance
    .ui.stackable.grid
        .two.column.row
            .column
                +number_edit key='hourly_dollars' label='hourly rate ($)' icon='money' direct=true
                +number_edit key='daily_dollars' label='daily rate ($)' icon='money' direct=true
            .column
                +number_edit key='hourly_karma' label='hourly rate (karma)' icon='yin-yang' direct=true
                +number_edit key='daily_karma' label='daily rate (karma)' icon='yin-yang' direct=true
    div
    +boolean_edit key='variable_price' label='variable price' icon='change' direct=true tooltip='allow system to increase/decrease price based on performance and popularity'
    if variable_price
        +number_edit key='min_variable_price' label='minimum variable price' icon='online-request' tooltip='baseline price' direct=true
    div
    +boolean_edit key='negotiable_price' label='negotiable price' icon='collaboration' tooltip='allow people to make bids' direct=true
    div
    +number_edit key='retail_value' label='original retail value' icon='estimate' tooltip='general info, helpful to renters to decide, also for price recommendations, and sorting' direct=true
    .ui.header 
        +i name='online-payment-'
        |payment options
    +boolean_edit key='cash_accepted' label='cash accepted' icon='cash' direct=true
    +boolean_edit key='venmo_accepted' label='venmo accepted' icon='venmo' direct=true
    +boolean_edit key='prepay' label='prepayment required' icon='pay-wall' direct=true
    +boolean_edit key='security_deposit_required' label='security deposit required' icon='card-security' direct=true
    if security_deposit_required
        +number_edit key='security_deposit_amount' label='security deposit amount' icon='card-security' direct=true
    div
    +boolean_edit key='friend_discount' label='friend discount' icon='friends--v2' direct=true
    if friend_discount
        +number_edit key='friend_discount_amount' label='security deposit amount' icon='dollar' direct=true

            
                  
template(name='rental_edit_audience')
    h1.ui.header 
        i.users.icon
        |audience
    .ui.header visibility
    +boolean_edit key='visible_to_friends' label='friends' direct=true
    +boolean_edit key='visible_to_building' label='building' direct=true
    +boolean_edit key='visible_to_residents' label='residents' direct=true
    +boolean_edit key='visible_to_public' label='public' direct=true

template(name='rental_edit_chat')
    h1.ui.header 
        i.chat.icon
        |chat
    .ui.header visibility
    +boolean_view key='visible_to_friends' label='friends' direct=true
    +boolean_view key='visible_to_building' label='building' direct=true
    +boolean_view key='visible_to_residents' label='residents' direct=true
    +boolean_view key='visible_to_public' label='public' direct=true


    
template(name='rental_edit_tasks')
    h1.ui.header 
        i.tasks.icon
        |rental tasks
    .ui.header visibility
    +boolean_edit key='visible_to_friends' label='friends' direct=true
    +boolean_edit key='visible_to_building' label='building' direct=true
    +boolean_edit key='visible_to_residents' label='residents' direct=true
    +boolean_edit key='visible_to_public' label='public' direct=true

    
    
    
template(name='rental_edit_availability')  
    +array_edit key='availability_tags' label='availability tags' icon='clock' direct=true
    +boolean_edit key='available' label='currently available' direct=true
    +multi_doc_edit key='available_days' label='available days' ref_model='day_of_week' direct=true
    .ui.header
        |delivery
    +boolean_edit key='pickup_delivery' label='pickup' direct=true
    +boolean_edit key='home_dropoff_delivery' label='home dropoff' direct=true
    +boolean_edit key='building_dropoff_delivery' label='building dropoff' direct=true
    +boolean_edit key='healthclub_drop_off_delivery' label='health club drop off' direct=true
    .ui.header
        | visibility
    +boolean_edit key='published' label='published' direct=true
