template(name='member_selector')
    .ui.two.column.stackable.grid
        .column
            .ui.small.header 
                i.user.plus.grey.icon
                |create new member
            .ui.fluid.input 
                input#first_name(type='text' placeholder='first name')
            .ui.fluid.input 
                input#last_name(type='text' placeholder='last name')
        .column
            .ui.small.header 
                i.search.grey.icon
                |lookup existing member
            .ui.large.fluid.input
                input#member_input(type='text' placeholder="lookup existing member..")
            each selections
                a.ui.basic.label(href="/member/#{username}")
                    |#{first_name} #{last_name} @#{username}
            if member_results
                .ui.small.header search results
                .ui.middle.aligned.selection.animated.large.list
                    each member_results
                        .select_member.item
                            .item
                                img.ui.avatar.image(src="{{c.url profile_image_id width=100 height=100 gravity='face' crop='fill'}}")
                                strong #{first_name} #{last_name}
                                //- |@#{username}
            +clear_value                
    .ui.big.list
        each current_doc.member_ids
            +member_item
            
template(name='member_item')            
    .item
        with member
            img.ui.avatar.image(src="{{c.url profile_image_id width=100 height=100 gravity='face' crop='fill'}}")
            .content
                .header #{first_name} #{last_name}
                |$#{credit}
                //- |@#{username} $#{credit}
                i.grey.link.remove.icon.remove_member
